tests:
  - name: 'RAG Feature Check'
    intent: 'Explain the vector store implementation'
    # We force the context here to ensure the GENERATION has the right info
    context: ['apps/prompt-maker-cli/src/rag/vector-store.ts']
    expect:
      - 'Mention cosine similarity'
      - 'Mention file hashing'
      - 'Explain how indexFiles works'

  - name: 'Simple Greeting'
    intent: 'Write a friendly hello world python script'
    expect:
      - "Must contain print('Hello, World!')"
      - 'Must be in Python'

  - name: 'URL Context Summary'
    intent: 'Summarize the Example Domain landing page'
    url:
      - 'https://example.com'
    expect:
      - 'Must mention Example Domain'
      - 'Must note the illustrative examples link section'

  - name: 'Video Bug Analysis'
    intent: 'Analyze this video to find the UI glitch'
    video: ['test-assets/demo.mp4']
    expect:
      - 'Must mention the flickering button'
      - 'Must suggest a CSS fix'

  - name: 'Smart Context Refactor'
    intent: 'Refactor the vector store class to use a singleton pattern'
    smartContext: true
    expect:
      - 'Must find vector-store.ts automatically'
      - 'Must provide valid TypeScript code'
