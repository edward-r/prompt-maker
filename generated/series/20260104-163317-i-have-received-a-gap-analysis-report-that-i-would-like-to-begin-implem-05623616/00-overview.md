You are a senior engineer implementing the gap-analysis Recommendations for @perceptron/prompt-maker-cli. Extend the CLI and pipeline with: (1) first-class input token budgets and deterministic overflow strategies with a new stream event describing drops; (2) portable export/import of GenerateJsonPayload in JSON/YAML with schemaVersion; and (3) resume refinement from history or an exported payload, with strict/best-effort handling for missing context. Keep backward compatibility (defaults preserve current behavior), ensure machine-readable modes never interleave human output on stdout, and add unit/integration tests for each feature. Update docs to match implemented behavior and add fixtures where useful. All changes must be verifiable via CLI commands and tests.